# Authentication Environment Variables
# Copy this file to .env.local and fill in your values

# ============================================
# REQUIRED FOR PRODUCTION
# ============================================

# Auth secret for JWT signing 
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Or with: openssl rand -hex 32
# Must be at least 32 characters (256 bits)
AUTH_SECRET=your-32-character-minimum-secret-key-here

# Base URL for authentication (must use HTTPS in production)
AUTH_URL=https://your-domain.com

# Database connection string (Supabase PostgreSQL)
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres
DATABASE_URL_UNPOOLED=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres

# Supabase configuration
NEXT_PUBLIC_SUPABASE_URL=https://[YOUR-PROJECT-REF].supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ============================================
# OAUTH PROVIDERS (Optional but recommended)
# ============================================

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Facebook OAuth (optional)
FACEBOOK_CLIENT_ID=your-facebook-app-id
FACEBOOK_CLIENT_SECRET=your-facebook-app-secret

# ============================================
# CORS/ORIGIN SETTINGS
# ============================================

# Web application URL
WEB_URL=https://your-domain.com

# Mobile application URL (for React Native)
MOBILE_URL=http://localhost:8081

# Expo proxy URL (for mobile development)
EXPO_PUBLIC_PROXY_BASE_URL=http://localhost:8081

# ============================================
# DEVELOPMENT SETTINGS
# ============================================

# Enable mock authentication (DEVELOPMENT ONLY - never set in production!)
# USE_MOCK_AUTH=true

# Node environment
NODE_ENV=production

# ============================================
# EMAIL SERVICE (for verification emails)
# ============================================

# SendGrid or similar email service
EMAIL_SERVER_HOST=smtp.sendgrid.net
EMAIL_SERVER_PORT=587
EMAIL_SERVER_USER=apikey
EMAIL_SERVER_PASSWORD=your-sendgrid-api-key
EMAIL_FROM=noreply@your-domain.com

# ============================================
# MONITORING (Optional but recommended)
# ============================================

# Sentry error tracking
SENTRY_DSN=your-sentry-dsn

# ============================================
# YOUTUBE API (for livestream notifications)
# ============================================

# YouTube Data API v3 key
YOUTUBE_API_KEY=your-youtube-api-key

# Your YouTube channel ID (found in YouTube Studio > Settings > Channel > Advanced settings)
YOUTUBE_CHANNEL_ID=your-youtube-channel-id

# ============================================
# MAILCHIMP API (for newsletter subscriptions)
# ============================================

# Mailchimp API key (found in Account > Extras > API keys)
MAILCHIMP_API_KEY=your-mailchimp-api-key

# Mailchimp Audience/List ID (found in Audience > Settings > Audience name and defaults)
MAILCHIMP_LIST_ID=your-mailchimp-list-id

# Server prefix from your API key (e.g., us15, us17)
MAILCHIMP_SERVER_PREFIX=us15

# ============================================
# PAYMENT PROCESSING
# ============================================

# Stripe API keys (use test keys for development)
STRIPE_PUBLIC_KEY=pk_test_your-stripe-test-public-key
STRIPE_SECRET_KEY=sk_test_your-stripe-test-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Stripe test mode configuration
STRIPE_TEST_MODE=true

# Stripe Price IDs for subscriptions (test environment)
STRIPE_PRO_MONTHLY_PRICE_ID=price_test_pro_monthly
STRIPE_PREMIUM_YEARLY_PRICE_ID=price_test_premium_yearly

# Production Stripe keys (only set in production)
# STRIPE_PUBLIC_KEY_LIVE=pk_live_your-stripe-live-public-key
# STRIPE_SECRET_KEY_LIVE=sk_live_your-stripe-live-secret-key
# STRIPE_WEBHOOK_SECRET_LIVE=whsec_your-live-webhook-secret

# CREATE.xyz API configuration for Stripe proxy (if using)
CREATE_TEMP_API_KEY=your-create-api-key
NEXT_PUBLIC_PROJECT_GROUP_ID=your-project-group-id
NEXT_PUBLIC_CREATE_API_BASE_URL=https://api.create.xyz

# ============================================
# SECURITY CONFIGURATION
# ============================================

# CSRF protection secret (generate with: openssl rand -base64 32)
CSRF_SECRET=your-csrf-secret-32-characters-minimum

# Rate limiting configuration
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# Billing-specific rate limits (stricter than general API)
BILLING_RATE_LIMIT_MAX_REQUESTS=10
BILLING_RATE_LIMIT_WINDOW_MS=600000

# ============================================
# FEATURE FLAGS & DEVELOPMENT
# ============================================

# Enable billing features (set to false to disable billing entirely)
ENABLE_BILLING=true
ENABLE_SUBSCRIPTIONS=true

# Show test mode warnings in UI
SHOW_TEST_MODE_WARNING=true

# Application base URL (used for redirects and webhooks)
NEXT_PUBLIC_BASE_URL=http://localhost:4000